{"version":3,"file":"default-src_app_filtros_filtros_page_ts.js","mappings":"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","sources":["./src/app/filtros/filtros.page.ts","./src/app/filtros/filtros.page.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { BPMService } from '../services/bpm.service';\r\nimport { AlertService } from '../services/alert.service';\r\nimport { LoadingController, ModalController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-filtros',\r\n  templateUrl: './filtros.page.html',\r\n  styleUrls: ['./filtros.page.scss'],\r\n})\r\nexport class FiltrosPage implements OnInit {\r\n\r\n  viewEntered = false;\r\n  //\r\n  status;\r\n  categorias;\r\n  prioridades;\r\n  incidentes;\r\n  //\r\n  estdo= '';\r\n  categoria= '';\r\n  prioridad= '';\r\n  incidente= '';\r\n  desde = this.getFirstDay();\r\n  hasta = this.getDate();\r\n\r\n  constructor( private bpmService: BPMService, private alertService: AlertService, private loadingController: LoadingController,\r\n    private modalController: ModalController) { }\r\n\r\n    getFirstDay(){\r\n      let todayDate;\r\n      const today = new Date();\r\n      const yyyy = today.getFullYear();\r\n\r\n      todayDate = '01/01/' + yyyy;\r\n      return todayDate;\r\n    }\r\n\r\n    getDate(){\r\n      let todayDate;\r\n      const today = new Date();\r\n      const dd = String(today.getDate()).padStart(2, '0');\r\n      const mm = String(today.getMonth() + 1).padStart(2, '0');\r\n      const yyyy = today.getFullYear();\r\n\r\n      todayDate = dd + '/' + mm + '/' + yyyy;\r\n      return todayDate;\r\n    }\r\n\r\n\r\n    cambioFecha( event ){\r\n      const cadena = event.detail.value.substr(0,10).split('-');\r\n      this.desde = cadena[2] + '/' + cadena[1] + '/' + cadena[0];\r\n    }\r\n\r\n    cambioFecha2( event ){\r\n      const cadena = event.detail.value.substr(0,10).split('-');\r\n      this.hasta = cadena[2] + '/' + cadena[1] + '/' + cadena[0];\r\n    }\r\n\r\n\r\n  async ngOnInit() {\r\n    (await this.bpmService.getStatus('')).subscribe((resp: any) =>{\r\n      console.log(resp);\r\n      if(resp.status){\r\n        this.status = resp.data;\r\n      }else{\r\n        this.alertService.presentAlert('Ha ocurrido un error en el servidor, intente de nuevo más tarde');\r\n      }\r\n    });\r\n    (await this.bpmService.getCategorias()).subscribe((resp: any) =>{\r\n      console.log(resp);\r\n      if(resp.status){\r\n        this.categorias = resp.data;\r\n      }else{\r\n        this.alertService.presentAlert('Ha ocurrido un error en el servidor, intente de nuevo más tarde');\r\n      }\r\n    });\r\n    (await this.bpmService.getIncidentes(this.categoria)).subscribe((resp: any) =>{\r\n      console.log(resp);\r\n      if(resp.status){\r\n        this.incidentes = resp.data;\r\n      }else{\r\n        this.alertService.presentAlert('Ha ocurrido un error en el servidor, intente de nuevo más tarde');\r\n      }\r\n    });\r\n    (await this.bpmService.getPrioridades()).subscribe((resp: any) =>{\r\n      console.log(resp);\r\n      if(resp.status){\r\n        this.prioridades = resp.data;\r\n      }else{\r\n        this.alertService.presentAlert('Ha ocurrido un error en el servidor, intente de nuevo más tarde');\r\n      }\r\n    });\r\n  }\r\n\r\n  async ionViewDidEnter() {\r\n    setTimeout(async () => {\r\n      this.viewEntered = await true;\r\n      await this.loadingController.dismiss();\r\n    }, 800);\r\n  }\r\n\r\n  ionViewWillLeave(){\r\n    this.viewEntered = false;\r\n  }\r\n\r\n  async back(){\r\n    this.modalController.dismiss();\r\n  }\r\n\r\n  selectCategoria(ev){\r\n    this.categoria = ev.detail.value;\r\n  }\r\n\r\n  selectIncidente(ev){\r\n    this.incidente = ev.detail.value;\r\n  }\r\n\r\n  selectStatus(ev){\r\n    this.estdo = ev.detail.value;\r\n  }\r\n\r\n  selectPrioridad(ev){\r\n    this.prioridad = ev.detail.value;\r\n  }\r\n\r\n  async dismissModal(){\r\n    this.modalController.dismiss();\r\n  }\r\n\r\n  async aceptar(){\r\n\r\n    const filtros = {\r\n      estado : await this.estdo,\r\n      categoria: await this.categoria,\r\n      prioridad: await this.prioridad,\r\n      incidente: await this.incidente,\r\n      desde: await this.desde,\r\n      hasta: await this.hasta\r\n    };\r\n\r\n    this.modalController.dismiss(filtros);\r\n\r\n  }\r\n\r\n}\r\n","export default \"<ion-header *ngIf=\\\"viewEntered\\\" class=\\\"animate__animated animate__fadeInDown\\\">\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-button (click)=\\\"back()\\\" color=\\\"light\\\">Atrás\\r\\n        <ion-icon slot=\\\"start\\\" name=\\\"arrow-back-outline\\\" color=\\\"light\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Filtros</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content *ngIf=\\\"viewEntered\\\" class=\\\"animate__animated animate__fadeInUp\\\">\\r\\n\\r\\n  <br>\\r\\n  <ion-list>\\r\\n    <ion-item>\\r\\n      <ion-label>Categoría</ion-label>\\r\\n      <ion-select (ionChange)=\\\"selectCategoria($event)\\\">\\r\\n        <ion-select-option *ngFor=\\\"let categoria of categorias\\\" value=\\\"{{categoria.codigo}}\\\">{{categoria.nombre}}</ion-select-option>\\r\\n      </ion-select>\\r\\n    </ion-item>\\r\\n    <ion-item>\\r\\n      <ion-label>Prioridad</ion-label>\\r\\n      <ion-select (ionChange)=\\\"selectPrioridad($event)\\\">\\r\\n        <ion-select-option *ngFor=\\\"let prioridad of prioridades\\\" value=\\\"{{prioridad.codigo}}\\\">{{prioridad.nombre}}</ion-select-option>\\r\\n      </ion-select>\\r\\n    </ion-item>\\r\\n    <ion-item>\\r\\n      <ion-label>Incidente</ion-label>\\r\\n      <ion-select (ionChange)=\\\"selectIncidente($event)\\\">\\r\\n        <ion-select-option *ngFor=\\\"let incidente of incidentes\\\" value=\\\"{{incidente.codigo}}\\\">{{incidente.nombre}}</ion-select-option>\\r\\n      </ion-select>\\r\\n    </ion-item>\\r\\n    <ion-item>\\r\\n      <ion-label>Status</ion-label>\\r\\n      <ion-select (ionChange)=\\\"selectStatus($event)\\\">\\r\\n        <ion-select-option *ngFor=\\\"let sede of status\\\" value=\\\"{{sede.codigo}}\\\">{{sede.nombre}}</ion-select-option>\\r\\n      </ion-select>\\r\\n    </ion-item>\\r\\n    <ion-row>\\r\\n      <ion-col size=\\\"8\\\">\\r\\n        <ion-item>\\r\\n          <ion-icon slot=\\\"start\\\" name=\\\"calendar-outline\\\"></ion-icon>\\r\\n          <ion-label>{{desde}}</ion-label>\\r\\n        </ion-item>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"4\\\">\\r\\n        <ion-button id=\\\"trigger-button\\\" expand=\\\"block\\\" >\\r\\n          Desde\\r\\n        </ion-button>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row>\\r\\n      <ion-col size=\\\"8\\\">\\r\\n        <ion-item>\\r\\n          <ion-icon slot=\\\"start\\\" name=\\\"calendar-outline\\\"></ion-icon>\\r\\n          <ion-label>{{hasta}}</ion-label>\\r\\n        </ion-item>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"4\\\">\\r\\n        <ion-button id=\\\"trigger-button2\\\" expand=\\\"block\\\" >\\r\\n          Hasta\\r\\n        </ion-button>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <br>\\r\\n    <ion-row>\\r\\n      <ion-col size=\\\"3\\\"></ion-col>\\r\\n      <ion-col size=\\\"6\\\">\\r\\n        <ion-button expand=\\\"block\\\" class=\\\"button-save\\\" strong=\\\"true\\\" (click)=\\\"aceptar()\\\">Aceptar\\r\\n                  <ion-icon slot=\\\"start\\\" color=\\\"white\\\" name=\\\"save\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"3\\\"></ion-col>\\r\\n    </ion-row>\\r\\n  </ion-list>\\r\\n\\r\\n  <ion-modal [isOpen]=\\\"false\\\" [breakpoints]=\\\"[0.1, 0.7, 1]\\\" [initialBreakpoint]=\\\"0.7\\\" trigger=\\\"trigger-button\\\">\\r\\n    <ng-template>\\r\\n      <ion-header translucent>\\r\\n        <ion-toolbar>\\r\\n          <ion-title>Fecha</ion-title>\\r\\n        </ion-toolbar>\\r\\n      </ion-header>\\r\\n      <ion-content>\\r\\n        <ion-card>\\r\\n          <ion-datetime min=\\\"2020-01-01\\\" (ionChange)=\\\"cambioFecha($event)\\\" presentation=\\\"date\\\"></ion-datetime>\\r\\n        </ion-card>\\r\\n        <ion-row>\\r\\n          <ion-col size=\\\"3\\\"></ion-col>\\r\\n          <ion-col size=\\\"6\\\">\\r\\n            <ion-button expand=\\\"block\\\" shape=\\\"round\\\" (click)=\\\"dismissModal()\\\">\\r\\n              Aceptar\\r\\n            </ion-button>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"3\\\"></ion-col>\\r\\n        </ion-row>\\r\\n      </ion-content>\\r\\n    </ng-template>\\r\\n  </ion-modal>\\r\\n\\r\\n<ion-modal [isOpen]=\\\"false\\\" [breakpoints]=\\\"[0.1, 0.7, 1]\\\" [initialBreakpoint]=\\\"0.7\\\" trigger=\\\"trigger-button2\\\">\\r\\n  <ng-template>\\r\\n    <ion-header translucent>\\r\\n      <ion-toolbar>\\r\\n        <ion-title>Fecha</ion-title>\\r\\n      </ion-toolbar>\\r\\n    </ion-header>\\r\\n    <ion-content>\\r\\n      <ion-card>\\r\\n        <ion-datetime min=\\\"2020-01-01\\\" (ionChange)=\\\"cambioFecha2($event)\\\" presentation=\\\"date\\\"></ion-datetime>\\r\\n      </ion-card>\\r\\n      <ion-row>\\r\\n        <ion-col size=\\\"3\\\"></ion-col>\\r\\n        <ion-col size=\\\"6\\\">\\r\\n          <ion-button expand=\\\"block\\\" shape=\\\"round\\\" (click)=\\\"dismissModal()\\\">\\r\\n            Aceptar\\r\\n          </ion-button>\\r\\n        </ion-col>\\r\\n        <ion-col size=\\\"3\\\"></ion-col>\\r\\n      </ion-row>\\r\\n    </ion-content>\\r\\n  </ng-template>\\r\\n</ion-modal>\\r\\n\\r\\n</ion-content>\\r\\n\";"],"names":[],"sourceRoot":"webpack:///"}