{"version":3,"file":"src_app_cambio-status_cambio-status_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACc;AAEC;AAExD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,iEAAgB;KAC5B;CACF,CAAC;IAMW,6BAA6B,SAA7B,6BAA6B;CAAG;AAAhC,6BAA6B;IAJzC,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,6BAA6B,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;AChBD;AACM;AACF;AAEA;AAEkC;AAEvB;IAW3C,sBAAsB,SAAtB,sBAAsB;CAAG;AAAzB,sBAAsB;IATlC,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,uDAAW;YACX,wFAA6B;SAC9B;QACD,YAAY,EAAE,CAAC,iEAAgB,CAAC;KACjC,CAAC;GACW,sBAAsB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;ACnBsB;AACJ;AACI;AACW;IAOvD,gBAAgB,SAAhB,gBAAgB;IAU3B,YAAoB,UAAsB,EAAU,YAA0B,EAAU,iBAAoC,EAClH,eAAgC;QADtB,eAAU,GAAV,UAAU,CAAY;QAAU,iBAAY,GAAZ,YAAY,CAAc;QAAU,sBAAiB,GAAjB,iBAAiB,CAAmB;QAClH,oBAAe,GAAf,eAAe,CAAiB;QAN1C,gBAAW,GAAG,KAAK,CAAC;QACpB,gBAAW,GAAG,EAAE,CAAC;QAEjB,iBAAY,GAAG,EAAE,CAAC;IAG4B,CAAC;IAEzC,QAAQ;;YACZ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACzB,CAAC,MAAM,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC,CAAC,SAAS,CAAC,CAAO,IAAS,EAAE,EAAE;gBAChE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBAClB,IAAG,IAAI,CAAC,MAAM,EAAC;oBACb,IAAI,CAAC,MAAM,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC;oBAC9B,IAAI,CAAC,YAAY,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC;iBACtD;qBAAI;oBACH,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,iEAAiE,CAAC,CAAC;iBACnG;YACH,CAAC,EAAC,CAAC;QACL,CAAC;KAAA;IAEK,eAAe;;YACnB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,MAAM,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,CAAC;QACzC,CAAC;KAAA;IAED,gBAAgB;QACd,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;IAC3B,CAAC;IAEK,IAAI;;YACR,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC;QACjC,CAAC;KAAA;IAED,eAAe,CAAC,EAAE;QAChB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC;IAChC,CAAC;IAEK,aAAa;;YACjB,CAAC,MAAM,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;iBACrF,SAAS,CAAC,CAAO,IAAS,EAAC,EAAE;gBAC5B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBAClB,IAAG,IAAI,CAAC,MAAM,EAAC;oBACb,MAAM,CAAC,MAAM,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,SAAS,CAAC,CAAO,GAAQ,EAAC,EAAE;wBAC3F,IAAI,CAAC,WAAW,GAAG,MAAM,GAAG,CAAC,IAAI,CAAC;wBAClC,MAAM,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,2CAA2C,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;wBACnG,IAAI,CAAC,cAAc,EAAE,CAAC;wBACtB,MAAM,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;oBACvD,CAAC,EAAC,CAAC;iBACJ;qBAAI;oBACH,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;iBAC9C;YACH,CAAC,EAAC,CAAC;QACP,CAAC;KAAA;IAEK,cAAc;;YAClB,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC;gBAClD,OAAO,EAAE,aAAa;aACvB,CAAC,CAAC;YACH,MAAM,OAAO,CAAC,OAAO,EAAE,CAAC;QAC1B,CAAC;KAAA;CAEF;;YA5EQ,6DAAU;YACV,iEAAY;YACZ,6DAAiB;YAAE,2DAAe;;;qBASxC,gDAAK;;AAFK,gBAAgB;IAL5B,wDAAS,CAAC;QACT,QAAQ,EAAE,mBAAmB;QAC7B,+JAAwC;;KAEzC,CAAC;GACW,gBAAgB,CAmE5B;AAnE4B;;;;;;;;;;;;;;;ACV7B,iEAAe,6sBAA6sB,eAAe,KAAK,eAAe,koBAAkoB","sources":["./src/app/cambio-status/cambio-status-routing.module.ts","./src/app/cambio-status/cambio-status.module.ts","./src/app/cambio-status/cambio-status.page.ts","./src/app/cambio-status/cambio-status.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CambioStatusPage } from './cambio-status.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CambioStatusPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CambioStatusPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CambioStatusPageRoutingModule } from './cambio-status-routing.module';\n\nimport { CambioStatusPage } from './cambio-status.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CambioStatusPageRoutingModule\n  ],\n  declarations: [CambioStatusPage]\n})\nexport class CambioStatusPageModule {}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { BPMService } from '../services/bpm.service';\nimport { AlertService } from '../services/alert.service';\nimport { LoadingController, ModalController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-cambio-status',\n  templateUrl: './cambio-status.page.html',\n  styleUrls: ['./cambio-status.page.scss'],\n})\nexport class CambioStatusPage implements OnInit {\n\n  @Input() ticket;\n  status;\n  estado;\n  viewEntered = false;\n  descripcion = '';\n  ticketNuevo: any;\n  estadoActual = '';\n\n  constructor(private bpmService: BPMService, private alertService: AlertService, private loadingController: LoadingController,\n    private modalController: ModalController) { }\n\n  async ngOnInit() {\n    console.log(this.ticket); \n    (await this.bpmService.getStatus()).subscribe(async (resp: any) =>{\n      console.log(resp);\n      if(resp.status){\n        this.status = await resp.data;\n        this.estadoActual = await this.ticket.estatus_codigo;\n      }else{\n        this.alertService.presentAlert('Ha ocurrido un error en el servidor, intente de nuevo más tarde');\n      }\n    });\n  }\n\n  async ionViewDidEnter() {\n    this.viewEntered = true;\n    await this.loadingController.dismiss();\n  }\n\n  ionViewWillLeave(){\n    this.viewEntered = false;\n  }\n\n  async back(){\n    this.modalController.dismiss();\n  }\n\n  selectCategoria(ev){\n    this.estado = ev.detail.value;\n  }\n\n  async cambiosStatus(){\n    (await this.bpmService.cambiarStatus(this.descripcion, this.ticket.codigo, this.estado))\n      .subscribe(async (resp: any)=>{\n        console.log(resp);\n        if(resp.status){\n          await (await this.bpmService.getTicket(resp.data.ticket_codigo)).subscribe(async (res: any)=>{\n            this.ticketNuevo = await res.data;\n            await this.alertService.presentToast('El ticket se ha actualizado correctamente', 'success', 2500);\n            this.presentLoading();\n            await this.modalController.dismiss(this.ticketNuevo);\n          });\n        }else{\n          this.alertService.presentAlert(resp.message);\n        }\n      });\n  }\n\n  async presentLoading() {\n    const loading = await this.loadingController.create({\n      message: 'Cargando...'\n    });\n    await loading.present();\n  }\n\n}\n","export default \"<ion-header *ngIf=\\\"viewEntered\\\" class=\\\"animate__animated animate__fadeInDown\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"back()\\\" color=\\\"light\\\">Atrás\\n        <ion-icon slot=\\\"start\\\" name=\\\"arrow-back-outline\\\" color=\\\"light\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title>Cambio de status</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content *ngIf=\\\"viewEntered\\\" class=\\\"animate__animated animate__fadeInUp\\\">\\n<br>\\n  <ion-list>\\n    <ion-item>\\n      <ion-label>Status</ion-label>\\n      <ion-select (ionChange)=\\\"selectCategoria($event)\\\" [value]=\\\"estadoActual\\\">\\n        <ion-select-option *ngFor=\\\"let estado of status\\\" value=\\\"{{estado.codigo}}\\\">{{estado.nombre}}</ion-select-option>\\n      </ion-select>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label>Comentario :</ion-label>\\n      <ion-textarea rows=\\\"4\\\" placeholder=\\\"Comentario...\\\" [(ngModel)]=\\\"descripcion\\\">  </ion-textarea>\\n    </ion-item>\\n  </ion-list>\\n<br>\\n  <ion-row>\\n    <ion-col size=\\\"3\\\"></ion-col>\\n    <ion-col size=\\\"6\\\">\\n      <ion-button expand=\\\"block\\\" class=\\\"button-save\\\" strong=\\\"true\\\" (click)=\\\"cambiosStatus()\\\">Guardar\\n                <ion-icon slot=\\\"start\\\" color=\\\"white\\\" name=\\\"save\\\"></ion-icon>\\n      </ion-button>\\n    </ion-col>\\n    <ion-col size=\\\"3\\\"></ion-col>\\n  </ion-row>\\n\\n\\n</ion-content>\\n\";"],"names":[],"sourceRoot":"webpack:///"}